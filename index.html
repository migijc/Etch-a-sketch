<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miguel's Sketchpad</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
</head>
<body class="body">

    <div class="options">
        <h1 class="optionsHeader">Options</h1>
        <button class="changeGrid">Grid size</button>
        <button class="trippyColors">Trippy</button>
        <button class="disco">Disco mode</button>
    </div>
    <div class="sketchPad">
        <div class="gameHeader">
            <h1>Etch-A-Sketch</h1>
        </div>
        <div class="gridContainer"></div>
    </div>

    <div class="footer">Etch-A-Sketch developed by Miguel Gil</div>
    

    
    
    
    
    <script>
        let getRandomR=function(){
        const randomR= Math.floor(Math.random() * 256) +1;
        return(randomR);
        };

        let getRandomG=function(){
        const randomG= Math.floor(Math.random() * 256) +1;
        return(randomG);
        };

        let getRandomB=function(){
        const randomB= Math.floor(Math.random() * 256) +1;
        return(randomB);
        };
        
       

        
        

        function ifTrippyClickedDefault(){
            const trippyButton=document.querySelector('.trippyColors'); //storing button
            trippyButton.addEventListener("click", ()=> { //added event listener to button
            const trippySquares=document.querySelectorAll('.squares') //storing divs with .squares
            console.log(trippySquares);
            trippySquares.forEach((square) => {
                square.addEventListener("mouseenter", () => {
                    square.classList.add(`trippyHoveredOn`);
                    square.style.backgroundColor= `rgb(${getRandomR()}, ${getRandomG()}, ${getRandomB()})`;//changes background color of all .trippyHoveredOn
                    
                })
            })
            }) 
        };       
    

        const gridContainer=document.querySelector('.gridContainer');
        function sixteenGrid(){
            for (let i=0; i<256; i++) {
                let oneSquare= document.createElement('div');
                oneSquare.classList.add("squares");
                gridContainer.appendChild(oneSquare);
            }
        }
        sixteenGrid();
        
        const eachSquare = document.querySelectorAll(".squares");
        ifTrippyClickedDefault();
        eachSquare.forEach((square) => {
            square.addEventListener("mouseenter", ()=> {
                square.classList.add("hoveredOn");
            });
        });
        
        const sketchPad= document.querySelector(".sketchPad");
        let buttonPressed= document.querySelector(".changeGrid");
        buttonPressed.addEventListener('click', ()=> {
            let squarePerRow= prompt("Enter the number of rows and columns you would like");
            if(squarePerRow >80){
                squarePerRow= prompt("Less than 80 Please");
            };
            let totalSquares= squarePerRow * squarePerRow;
            sketchPad.removeChild(gridContainer);
            newGrid(totalSquares, squarePerRow);
        })

        function newGrid(num, num2){
            const newGridContainer=document.createElement('div')
            newGridContainer.classList.add("newContainer");
            for (let i=0; i<num; i++) {
                let oneSquare= document.createElement('div')
                oneSquare.classList.add("newSquares")
                newGridContainer.appendChild(oneSquare);
                sketchPad.appendChild(newGridContainer);
                newGridContainer.style.gridTemplateColumns=`repeat(${num / num2}, 1fr)`;
            };
            const eachSquare = document.querySelectorAll(".newSquares");
            eachSquare.forEach((square) => {
                square.addEventListener("mouseenter", ()=> {
                    square.classList.add("hoveredOn");
                    square.classList.remove("newSquares")
                });
            });
        };

        function ifDiscoClicked(){
            const discoButton=document.querySelector('.disco');
            discoButton.addEventListener("click", ()=> {
            const trippySquares=document.querySelectorAll('.squares')
            console.log(trippySquares);
            trippySquares.forEach((square) => {
                square.addEventListener("mouseenter", () => {
                    square.classList.add("trippyHoveredOn")
                    const trippyHoveredOn=document.querySelectorAll(".trippyHoveredOn");
                    trippyHoveredOn.forEach((trippySquare) => {
                        trippySquare.style.backgroundColor= `rgb(${getRandomR()}, ${getRandomG()}, ${getRandomB()})`;
                    })
                })
            })
            }) 
        };       

        function ifTrippyClickedCustomGrid(){
            const trippyButtonCG=document.querySelector('.trippyColors'); //storing button
            trippyButtonCG.addEventListener("click", ()=> { //added event listener to button
            const trippySquaresCG=document.querySelectorAll('.newSquares') //storing divs with .squares
            console.log(trippySquaresCG);
            trippySquaresCG.forEach((square) => {
                square.addEventListener("mouseenter", () => {
                    square.classList.add(`trippyHoveredOn`);
                    square.style.backgroundColor= `rgb(${getRandomR()}, ${getRandomG()}, ${getRandomB()})`;//changes background color of all .trippyHoveredOn
                    
                })
            })
            }) 
        };       

        ifTrippyClickedCustomGrid()

       


        




    </script>
</body>
</html>

